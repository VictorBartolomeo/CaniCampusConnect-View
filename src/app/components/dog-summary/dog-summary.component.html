<div class="mb-4 p-8 flex items-center justify-center">
  <p-card [style]="{ width: '25rem', overflow: 'hidden' }">
    <ng-template #header let-selectedDog>
      <img alt="Card" class="w-full" src="https://primefaces.org/cdn/primeng/images/card-ng.jpg" />
    </ng-template>
    <ng-template #title> {{selectedDog?.name}} </ng-template>
    <ng-template #subtitle> {{getDogAge(selectedDog?.birthDate)}} </ng-template>
    <div class="mb-4">
, votre {{selectedDog?.isMale ? 'chien' : 'chienne'}} est
      un {{selectedDog?.breed?.name}}.
      @if (getLastWeight()) {
      <span>
        {{selectedDog?.isMale ? 'Il ' : 'Elle ' }} pèse à ce jour {{getLastWeight()?.weightValue}} {{getLastWeight()?.unit === 'KILOGRAM' ? 'kg' : 'lbs'}}.
      </span>
      }
    <div class="mb-4">
      <div class="flex items-center mb-2">
        <i class="pi" [ngClass]="{'pi-check-circle text-green-500': vaccinesUpToDate, 'pi-times-circle text-red-500': !vaccinesUpToDate}"></i>
        <span class="ml-2">Vaccins {{vaccinesUpToDate ? 'à jour' : 'à renouveler'}}</span>
      </div>

      <div *ngIf="hasActiveTreatment" class="flex items-center cursor-pointer hover:text-blue-600" (click)="goToTreatments()">
        <i class="pi pi-info-circle text-blue-500"></i>
        <span class="ml-2">Traitement en cours</span>
        <i class="pi pi-arrow-right ml-2"></i>
      </div>
    </div>

    <!-- Types de cours les plus suivis -->
    <div *ngIf="mostCommonIssues.length > 0" class="mb-3">
      <h4 class="font-medium">Types de problèmes de santé les plus fréquents :</h4>
      <ul class="list-disc pl-5">
        <li *ngFor="let issue of mostCommonIssues">{{issue}}</li>
      </ul>
    </div>
    </div>

    <!-- Statut des vaccins et traitements -->

    <ng-template #footer>
      <div class="flex gap-4 mt-1">
        <p-button label="Cancel" severity="secondary" class="w-full" [outlined]="true" styleClass="w-full" />
        <p-button label="Save" class="w-full" styleClass="w-full" />
      </div>
    </ng-template>
  </p-card>
</div>
