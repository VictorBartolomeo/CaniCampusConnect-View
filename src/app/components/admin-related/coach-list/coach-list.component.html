<div class="coach-list-container">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold">Liste des coachs</h2>
    <button
      pButton
      icon="pi pi-plus"
      label="Ajouter un coach"
      (click)="requestAddCoach()">
    </button>
  </div>

  <p-table
    [value]="coaches"
    [loading]="loading"
    styleClass="p-datatable-sm"
    [paginator]="true"
    [rows]="10"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Affichage de {first} à {last} sur {totalRecords} coachs"
    [rowsPerPageOptions]="[5, 10, 25]"
    selectionMode="single">

    <ng-template pTemplate="header">
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Email</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-coach>
      <tr (click)="viewCoachDetails(coach)" class="cursor-pointer hover:bg-gray-50">
        <td>{{ coach.lastname }}</td>
        <td>{{ coach.firstname }}</td>
        <td>{{ coach.email }}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="3" class="text-center p-4">
          <div *ngIf="loading">Chargement des coachs...</div>
          <div *ngIf="!loading">
            Aucun coach trouvé.
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
